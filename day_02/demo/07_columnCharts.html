<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #canvas{
            border:1px solid #ccc;
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <canvas width="600" height="400" id="canvas"></canvas>
    <script src="scripts/colors.js"></script>
    <script>
        var canvasEle = document.getElementById('canvas');
        var ctx = canvasEle.getContext('2d');
        //设置柱形图的数据信息
        var dataset = [
            {
                label:'鞋',
                value:330
            },
            {
                label:'可乐',
                value:170
            },
            {
                label:'包包',
                value:90
            }, 
            {
                label:'裤子',
                value:290
            },
            {
                label:'西服',
                value:150
            }
        ];
        //设置柱形图的宽度
        var width = 60;
        //循环绘制柱形图
        for(var n = 0;n < dataset.length;n++){
            //计算空隙
            var spacer = Math.floor((canvasEle.width - width * dataset.length) / (dataset.length-1));
            //X轴坐标
            var x = n * (width + spacer);
            //Y轴坐标
            var y = canvasEle.height - dataset[n].value;
            //柱形图的高度
            var height = dataset[n].value;
            //设置填充颜色
            ctx.fillStyle = colors[Math.floor(Math.random() * colors.length)];
            //绘制矩形
            ctx.fillRect(x,y,width,height);
            //绘制文本(文本样式)
            ctx.font = '16px Microsoft Yahei';
            //绘制文本(文本对齐方式)
            ctx.textAlign = 'center';
            //绘制文本(绘制文本)
            ctx.fillText(dataset[n].value,x+30,y - 10);
        }
    </script>
</body>
</html>